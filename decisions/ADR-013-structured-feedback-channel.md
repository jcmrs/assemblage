# ADR-013: Structured Feedback Channel

**Date:** 2025-11-19
**Status:** Accepted

---

### Ownership & Concurrence

**Decision Domain:** **"How" (Platform)**
**Vision Owner Concurrence (Human Partner):** Yes
**System Owner Concurrence (AI Partner):** Yes

---

## 1. Context

Our current feedback mechanism is informal, conversational, and ephemeral. A simple rating/comment system is insufficient for generating the rich, structured data required for genuine, long-term AI learning. To evolve the System Owner from a "doing" agent to a "learning" agent, we require a "nervous system"â€”a mechanism to formally capture both objective data and subjective guidance.

## 2. Decision

We will implement a **Structured Feedback Channel** as a core capability of the Control Plane. This system will be designed as a two-phase dialogue between the System Owner (AI) and the Vision Owner (Human).

1.  **Two-Phase Command:** A new `control_plane feedback` command will orchestrate the process.
    *   **Phase 1: AI Self-Report.** When invoked against a specific commit, the System Owner will first generate an objective `ai_self_report`. This involves programmatically analyzing the commit and its context to generate machine-readable data.
    *   **Phase 2: Vision Owner Review.** The system will then present the self-report to the Vision Owner and prompt them for a structured, subjective review.

2.  **Rich Data Schema:** A new `feedback/` directory will store timestamped YAML files with a comprehensive schema. Each file will contain two primary sections:
    *   **`ai_self_report`:** Contains objective data generated by the AI, such as:
        *   `commit_hash`
        *   `task_id` (parsed from the commit message)
        *   `files_changed`
        *   `lines_added`
        *   `lines_deleted`
        *   `tests_added` (e.g., by counting new test files/functions)
        *   `self_correction_loops` (from `commit_wrapper` logs, if available)
    *   **`vision_owner_review`:** Contains subjective ratings and notes from the human, such as:
        *   `clarity_rating` (1-5)
        *   `efficiency_rating` (1-5)
        *   `correctness_rating` (1-5)
        *   `positive_notes` (string)
        *   `improvement_areas` (string)

3.  **Future Nudge Generation:** The design will explicitly support future work to analyze the `improvement_areas` across multiple feedback files to automatically propose new, learned entries for `config/nudges.yml`.

## 3. Rationale

*   **Enables True Learning:** This rich, structured dataset is the fundamental prerequisite for any future, programmatic self-improvement by the AI.
*   **Strengthens the Partnership:** It transforms feedback from a monologue into a dialogue ("Here is what I did objectively; how did I do subjectively?"). This respects the Bifurcated Ownership model at a deep level.
*   **Creates a "Nervous System":** It provides the mechanism for translating high-level guidance into concrete, data-driven adjustments in the AI's future behavior, including the automated generation of its own "instincts" (Nudges).
*   **Data-Driven Auditing:** Creates a permanent, detailed, and queryable audit trail of performance over time.

## 4. Consequences

- This is a complex feature that requires the AI to develop a new capability: self-analysis of its own work (parsing git history, test results, etc.).
- It establishes a new top-level directory and data schema that will become a core part of the Assemblage's "memory."
- It solidifies the path toward a truly adaptive and self-improving system.
